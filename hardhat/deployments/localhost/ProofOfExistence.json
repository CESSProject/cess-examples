{
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "abi": [
    {
      "inputs": [],
      "name": "FileAlreadyClaimed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotFileOwner",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "file",
          "type": "bytes32"
        }
      ],
      "name": "Claimed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "file",
          "type": "bytes32"
        }
      ],
      "name": "Forfeited",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "claim",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "files",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "forfeit",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "hasClaimed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ownedFiles",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "users",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x30be84553065d65d2ad76e0f001489379768c4d1b67c82885a9152b8aff9bdd0",
  "receipt": {
    "to": null,
    "from": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "contractAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
    "transactionIndex": 0,
    "gasUsed": "649763",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x25f9d7d8e4e2e030473cb5b36c5087bd1fa95923502f466313fd70f6e2448c6f",
    "transactionHash": "0x30be84553065d65d2ad76e0f001489379768c4d1b67c82885a9152b8aff9bdd0",
    "logs": [],
    "blockNumber": 3,
    "cumulativeGasUsed": "649763",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "3fa5803d04e2c49a8aa82f92a809b46f",
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"FileAlreadyClaimed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotFileOwner\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"file\",\"type\":\"bytes32\"}],\"name\":\"Claimed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"file\",\"type\":\"bytes32\"}],\"name\":\"Forfeited\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"claim\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"files\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"forfeit\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"hasClaimed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ownedFiles\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"\",\"type\":\"bytes32[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/ProofOfExistence.sol\":\"ProofOfExistence\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/ProofOfExistence.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\npragma solidity ^0.8.19;\\n\\n\\ncontract ProofOfExistence {\\n  mapping(bytes32 => address) public files;\\n  mapping(address => bytes32[]) public users;\\n\\n  event Claimed(address indexed owner, bytes32 indexed file);\\n  event Forfeited(address indexed owner, bytes32 indexed file);\\n\\n  error NotFileOwner();\\n  error FileAlreadyClaimed();\\n\\n  modifier isOwner(bytes32 hash) {\\n    address from = msg.sender;\\n    if (files[hash] != from) revert NotFileOwner();\\n    _;\\n  }\\n\\n  modifier notClaimed(bytes32 hash) {\\n    address from = msg.sender;\\n    if (files[hash] != address(0)) revert FileAlreadyClaimed();\\n    _;\\n  }\\n\\n  function hasClaimed(bytes32 hash) public view returns (bool) {\\n    address owner = files[hash];\\n    return (owner != address(0));\\n  }\\n\\n  function ownedFiles() public view returns (bytes32[] memory) {\\n    address from = msg.sender;\\n    return users[from];\\n  }\\n\\n  function claim(bytes32 hash) public notClaimed(hash) returns (bool) {\\n    address from = msg.sender;\\n\\n    // update storage files\\n    files[hash] = from;\\n\\n    // udpate storage users\\n    bytes32[] storage userFiles = users[from];\\n    userFiles.push(hash);\\n\\n    emit Claimed(from, hash);\\n    return true;\\n  }\\n\\n  function forfeit(bytes32 hash) public isOwner(hash) returns (bool) {\\n    address from = msg.sender;\\n\\n    // update storage files\\n    delete files[hash];\\n\\n    // locate the index of the file going to be deleted.\\n    bytes32[] storage userFiles = users[from];\\n    uint32 delIdx = 0;\\n    for (uint32 i = 0; i < userFiles.length; i++) {\\n      if (userFiles[i] == hash) {\\n        delIdx = i;\\n        break;\\n      }\\n    }\\n    // update storage users by swap-delete\\n    if (delIdx != userFiles.length - 1) {\\n      userFiles[delIdx] = userFiles[userFiles.length - 1];\\n    }\\n    // delete\\n    userFiles.pop();\\n\\n    emit Forfeited(from, hash);\\n    return true;\\n  }\\n}\\n\",\"keccak256\":\"0x36887ef67486dfdf81b5fba48a6ed58f314958306eb7540f09010635a0bd1bdf\",\"license\":\"UNLICENSED\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50610ad4806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806329b700b81461006757806354a02f9e1461008557806398c9adff146100b5578063a894c457146100e5578063bd66528a14610115578063f192e91c14610145575b600080fd5b61006f610175565b60405161007c91906107c3565b60405180910390f35b61009f600480360381019061009a919061087e565b610210565b6040516100ac91906108cd565b60405180910390f35b6100cf60048036038101906100ca9190610914565b610241565b6040516100dc9190610950565b60405180910390f35b6100ff60048036038101906100fa9190610914565b610274565b60405161010c9190610986565b60405180910390f35b61012f600480360381019061012a9190610914565b6102e5565b60405161013c9190610986565b60405180910390f35b61015f600480360381019061015a9190610914565b610497565b60405161016c9190610986565b60405180910390f35b60606000339050600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561020557602002820191906000526020600020905b8154815260200190600101908083116101f1575b505050505091505090565b6001602052816000526040600020818154811061022c57600080fd5b90600052602060002001600091509150505481565b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415915050919050565b6000816000339050600073ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610385576040517ff29eaca600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60003390508060008087815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905080869080600181540180825580915050600190039060005260206000200160009091909190915055858273ffffffffffffffffffffffffffffffffffffffff167f91d697238e9aa9f3172d17522c9be529b94a892481554e1ea619369b5b12f39a60405160405180910390a36001945050505050919050565b60008160003390508073ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610536576040517fabea322900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600033905060008086815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000805b82805490508163ffffffff16101561060e5787838263ffffffff16815481106105e3576105e26109a1565b5b9060005260206000200154036105fb5780915061060e565b808061060690610a0f565b9150506105b7565b50600182805490506106209190610a3b565b8163ffffffff161461068257816001838054905061063e9190610a3b565b8154811061064f5761064e6109a1565b5b9060005260206000200154828263ffffffff1681548110610673576106726109a1565b5b90600052602060002001819055505b8180548061069357610692610a6f565b5b60019003818190600052602060002001600090559055868373ffffffffffffffffffffffffffffffffffffffff167f8a14fc498ed2896e638b5dde963af4635a5ec62b4b824c0e763ac0d978662dd260405160405180910390a3600195505050505050919050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b61073a81610727565b82525050565b600061074c8383610731565b60208301905092915050565b6000602082019050919050565b6000610770826106fb565b61077a8185610706565b935061078583610717565b8060005b838110156107b657815161079d8882610740565b97506107a883610758565b925050600181019050610789565b5085935050505092915050565b600060208201905081810360008301526107dd8184610765565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610815826107ea565b9050919050565b6108258161080a565b811461083057600080fd5b50565b6000813590506108428161081c565b92915050565b6000819050919050565b61085b81610848565b811461086657600080fd5b50565b60008135905061087881610852565b92915050565b60008060408385031215610895576108946107e5565b5b60006108a385828601610833565b92505060206108b485828601610869565b9150509250929050565b6108c781610727565b82525050565b60006020820190506108e260008301846108be565b92915050565b6108f181610727565b81146108fc57600080fd5b50565b60008135905061090e816108e8565b92915050565b60006020828403121561092a576109296107e5565b5b6000610938848285016108ff565b91505092915050565b61094a8161080a565b82525050565b60006020820190506109656000830184610941565b92915050565b60008115159050919050565b6109808161096b565b82525050565b600060208201905061099b6000830184610977565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600063ffffffff82169050919050565b6000610a1a826109ff565b915063ffffffff8203610a3057610a2f6109d0565b5b600182019050919050565b6000610a4682610848565b9150610a5183610848565b9250828203905081811115610a6957610a686109d0565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fdfea2646970667358221220cb4c045a44155fcbe882f33230a95afd0ee9644fc62cac9623f7564000e689b664736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806329b700b81461006757806354a02f9e1461008557806398c9adff146100b5578063a894c457146100e5578063bd66528a14610115578063f192e91c14610145575b600080fd5b61006f610175565b60405161007c91906107c3565b60405180910390f35b61009f600480360381019061009a919061087e565b610210565b6040516100ac91906108cd565b60405180910390f35b6100cf60048036038101906100ca9190610914565b610241565b6040516100dc9190610950565b60405180910390f35b6100ff60048036038101906100fa9190610914565b610274565b60405161010c9190610986565b60405180910390f35b61012f600480360381019061012a9190610914565b6102e5565b60405161013c9190610986565b60405180910390f35b61015f600480360381019061015a9190610914565b610497565b60405161016c9190610986565b60405180910390f35b60606000339050600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561020557602002820191906000526020600020905b8154815260200190600101908083116101f1575b505050505091505090565b6001602052816000526040600020818154811061022c57600080fd5b90600052602060002001600091509150505481565b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415915050919050565b6000816000339050600073ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610385576040517ff29eaca600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60003390508060008087815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905080869080600181540180825580915050600190039060005260206000200160009091909190915055858273ffffffffffffffffffffffffffffffffffffffff167f91d697238e9aa9f3172d17522c9be529b94a892481554e1ea619369b5b12f39a60405160405180910390a36001945050505050919050565b60008160003390508073ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610536576040517fabea322900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600033905060008086815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000805b82805490508163ffffffff16101561060e5787838263ffffffff16815481106105e3576105e26109a1565b5b9060005260206000200154036105fb5780915061060e565b808061060690610a0f565b9150506105b7565b50600182805490506106209190610a3b565b8163ffffffff161461068257816001838054905061063e9190610a3b565b8154811061064f5761064e6109a1565b5b9060005260206000200154828263ffffffff1681548110610673576106726109a1565b5b90600052602060002001819055505b8180548061069357610692610a6f565b5b60019003818190600052602060002001600090559055868373ffffffffffffffffffffffffffffffffffffffff167f8a14fc498ed2896e638b5dde963af4635a5ec62b4b824c0e763ac0d978662dd260405160405180910390a3600195505050505050919050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b61073a81610727565b82525050565b600061074c8383610731565b60208301905092915050565b6000602082019050919050565b6000610770826106fb565b61077a8185610706565b935061078583610717565b8060005b838110156107b657815161079d8882610740565b97506107a883610758565b925050600181019050610789565b5085935050505092915050565b600060208201905081810360008301526107dd8184610765565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610815826107ea565b9050919050565b6108258161080a565b811461083057600080fd5b50565b6000813590506108428161081c565b92915050565b6000819050919050565b61085b81610848565b811461086657600080fd5b50565b60008135905061087881610852565b92915050565b60008060408385031215610895576108946107e5565b5b60006108a385828601610833565b92505060206108b485828601610869565b9150509250929050565b6108c781610727565b82525050565b60006020820190506108e260008301846108be565b92915050565b6108f181610727565b81146108fc57600080fd5b50565b60008135905061090e816108e8565b92915050565b60006020828403121561092a576109296107e5565b5b6000610938848285016108ff565b91505092915050565b61094a8161080a565b82525050565b60006020820190506109656000830184610941565b92915050565b60008115159050919050565b6109808161096b565b82525050565b600060208201905061099b6000830184610977565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600063ffffffff82169050919050565b6000610a1a826109ff565b915063ffffffff8203610a3057610a2f6109d0565b5b600182019050919050565b6000610a4682610848565b9150610a5183610848565b9250828203905081811115610a6957610a686109d0565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fdfea2646970667358221220cb4c045a44155fcbe882f33230a95afd0ee9644fc62cac9623f7564000e689b664736f6c63430008130033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 29,
        "contract": "contracts/ProofOfExistence.sol:ProofOfExistence",
        "label": "files",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_bytes32,t_address)"
      },
      {
        "astId": 34,
        "contract": "contracts/ProofOfExistence.sol:ProofOfExistence",
        "label": "users",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_array(t_bytes32)dyn_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_bytes32)dyn_storage": {
        "base": "t_bytes32",
        "encoding": "dynamic_array",
        "label": "bytes32[]",
        "numberOfBytes": "32"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_array(t_bytes32)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bytes32[])",
        "numberOfBytes": "32",
        "value": "t_array(t_bytes32)dyn_storage"
      },
      "t_mapping(t_bytes32,t_address)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      }
    }
  }
}